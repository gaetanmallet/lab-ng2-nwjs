<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Lab NW ng2</title>
</head>
<body style="background-color: #333;color: #aaa;">
	<h1>Hello world!!!</h1>
	<div id="info"></div>
	<!-- Reloads the application on content change
			ref: https://github.com/nwjs/nw.js/wiki/Livereload-nw.js-on-changes
	-->
	<script>
		console.log('Processo (' + process.pid + ') : Criando a task para monitorar alterações nos arquivos');

	  var Gaze = require('gaze');
		var gaze = new Gaze('**/*');

		gaze.on('error', function(error) {
			console.error('Gaze: ' + error);
		});

		gaze.on('ready', function(watcher) {
			console.log('Gaze: início da observação dos arquivos');
		});

		// all serve para receber added, deleted ou changed
		gaze.on('all', function(event, filepath) {
			console.log('Gaze (' + event + ') : ' + filepath);
			if (location) {
				gaze.close();
				console.log('Processo (' + process.pid + ') : Recarregando a página');
				location.reload();
			}
		});

		gaze.on('end', function() {
			console.log('Gaze: parou de observar todos os arquivos');
		});
	</script>
	<!-- ES6-related imports -->
	<script src="libs/traceur-runtime.js"></script>
	<script src="libs/system-csp-production.js"></script>

	<script>
    //bootstrap the Angular2 application
    System.import('webkit/nav.js').catch(console.log.bind(console));
	</script>
	<!--<script src="webkit/nav.js"></script>-->
</body>
</html>
